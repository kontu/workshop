name: 'upload-workshop-item'
description: 'A GitHub Action to upload items to the Steam Workshop'

branding:
  icon: 'upload-cloud'
  color: 'blue'

runs:
  using: 'docker'
  image: 'Dockerfile'
    args:
    - ${{ inputs.path }}
    - ${{ inputs.steamAcct }}
    - ${{ inputs.steamPasswd }}
    - ${{ inputs.ssfnContents }}
    - ${{ inputs.ssfnFileName }}
    - ${{ inputs.steamConfigVdf}}

inputs:
  path:
    description: "The relative base path of your mods in the repo. Include trailing slash"
    required: true
    default: 'Mods'
  steamAcct:
    description: "Steam account name to login with"
    required: true
  steamPasswd:
    description: "Steam password (use secrets to store)"
    required: true
  ssfnContents:
    description: "base64 of the steam SSFN file that has authorized the account being used. Used for MFA"
    default: 'null'
    required: false
  ssfnFileName:
    description: "SSFN file name specified in the config.vdf that has authorized the account being used. Used for MFA"
    default: 'null'
    required: false
  steamConfigVdf:
    description: "base64 of the steam config vdf generated for the account being used. Used for MFA"
    default: 'null'
    required: false